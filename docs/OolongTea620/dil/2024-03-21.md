### 일관성 불일치 해소(inconsistency resolution)

#### 벡터 시계
[서버, 버전]의 순서쌍을 데이터에 매단 것.   
어떤 버전이 선행 버전인지, 후행 버전인지, 아니면 다른 버전과 충돌이 있는지 판별하기 위해 사용한다.

**장점**   
- 어떤 버전 X, 버전 Y 중 어떤 버전이 이전 버전인지 알 수 있다 (충돌이 있나 없나)

**단점**
- **클라이언트 구현 복잡해짐**: 충돌감지 및 해소로직이 클라이언트에 구현되어 있어야 한다.
- **순서쌍 갯수로 인한 저장 용량 임계치의 한계** : [서버:버전]의 순서쌍 갯수가 굉장히 빨리 늘어난다.
    - 효율성이 낮아 질 수 있다.

### 장애 처리

#### 장애 감지(failure detection)
보통 두 대 이상의 서버에서 똑같은 장애 A가 보고 될 때, 실제로 해당 서버에 장애가 났다고 간주한다.

#### 장애감지 솔루션들

**멀티 테스킹**  
서버가 많아질 수록 비효율적인 방법이 된다.


**가십프로토콜(gossip protocol)** `분산형 장애감지`

- 각 노드는 맴버십 목록을 유지한다.
  - 멤버십 목록은 각 멤버의 ID와 그 박동 카운터쌍의 목록이다.
- 각 노드는 주기적으로 자신의 박동 카운터를 증기시킨다.
- 각 노드는 무작위로 선정된 노드들에게 주기적으로 자기 박동 카운터 목록을 보낸다.
- 박동 카운터 목록을 받은 멤버는 멤버십 목록을 최신 값으로 갱신한다.
- 어떤 멤버의 박동 카운터 값이 지정된 시간 동안 갱신되지 않으면, 해당 멤버는 장애 상태인 것으로 간주한다.

#### 장애 해소 전략들(failure resolution)

**느슨한 정족수 접근법**

**임시위탁기법**
