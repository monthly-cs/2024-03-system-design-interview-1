---
marp: true
paginate: true
backgroundColor: #000
color: #fff
---

# 02. 개략적인 규모 추정

- 개략적 규모 추정을 잘 하려면, 규모 확장성을 표현하는 데 필요한 기본기에 능숙해야

---

# 2의 제곱수

- 데이터의 양은 커져도, 계산법은 기본을 벗어나지 않음
- 데이터볼륨의 단위를 2의 제곱수로 표현하면 어떻게 되는지 알아야

---

# 응답지연 값

- 메모리는 빠르지만 디스크는 아직도 느림
- 디스크 탐색은 가능한 피해야
- 단순한 압축 알고리즘은 빠르다
- 데이터를 전송하기 전에 가능하면 압축하라
- 데이터센터 간 데이터 전달시 시간이 걸림

---

# 가용성에 관계된 수치들

- 고가용성
  - 시스템이 오랜 시간 동안 지속적으로 중단없이 운영될 수 있는 능력

---

# 예제: 트위터 QPS와 저장소 요구량 추정

- 가정
  - MAU 3억명
  - 50%가 매일 트위터를 사용
  - 각 사용자는 평균 매일 2건의 트윗 작성
  - 미디어를 포함하는 트윗은 10%
  - 데이터는 5년간 보관

---

- 추정

  - QPS(Query per second 추정)

    - DAU 1.5억 = 3억 \* 50%
    - QPS 3500 = 1.5억 DAU \* 2트윗 / 24시간 / 3600초
    - 최대 QPS 7000 = 2 \* QPS

  - 미디어 저장소를 위한 저장소 요구량
    - 평균 트윗 크기
      - tweet_id 64byte
      - 텍스트 140byte
      - 미디어 1mb
    - 미디어 저장소 요구량
      - 30TB/일 = 1.5억 _ 2 _ 10% \* 1mb
    - 5년간 미디어 보관을 위한 저장소 요구량
      - 30TB _ 365 _ 5 = 55PB

---

# 팁

- 문제를 풀어나가는 절차가 중요
  - 올바른 절차를 밟느냐가, 결과를 내는 것보다 중요
  - 면접자가 보고자 하는 것은 문제 해결 능력
- 팁
  - 근사치를 활용한 계산: 정확한 계산은 시간낭비
  - 가정들은 적어둔다
  - 단위를 붙인다
  - 개략적 규모 추정 문제 빈출
    - QPS, 최대 QPS, 저장소 요구량, 캐시 요구량, 서버수 등
    - 미리 연습해두자
